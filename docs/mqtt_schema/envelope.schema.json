{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.alteriom.io/mqtt/v1/envelope.schema.json",
  "title": "Alteriom MQTT Base Envelope v1",
  "type": "object",
  "required": ["schema_version", "device_id", "device_type", "timestamp", "firmware_version"],
  "properties": {
    "schema_version": {"type": "integer", "const": 1},
    "device_id": {"type": "string", "minLength": 1, "maxLength": 64, "pattern": "^[A-Za-z0-9_-]+$"},
    "device_type": {"type": "string", "enum": ["sensor", "gateway"]},
    "timestamp": {"type": "string", "format": "date-time"},
    "firmware_version": {"type": "string", "minLength": 1, "maxLength": 40},
    "hardware_version": {"type": "string", "maxLength": 80}
  },
  "additionalProperties": true
}
